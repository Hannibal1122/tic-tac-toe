(()=>{var e={983:(e,t,n)=>{(e.exports=n(252)(!1)).push([e.id,".tic-tac-toe{display:flex;text-align:center;margin-top:10px;justify-content:center;align-items:center;flex-direction:column}table{table-layout:fixed;border-collapse:collapse}.table td{border:1px solid #b9b9b9}.cell{width:22px;height:22px;border:1px solid gray;cursor:pointer}.cell:hover{background-color:#f1f1f1}",""])},290:(e,t,n)=>{(e.exports=n(252)(!1)).push([e.id,".number{font-size:42px;color:#646464;position:relative}",""])},238:(e,t,n)=>{(e.exports=n(252)(!1)).push([e.id,".index{position:fixed;display:grid;grid-template-rows:40px 1fr 20px;height:100%;width:100%}.index header{display:flex;padding-left:15px;padding-right:15px;background-color:#3d80be;color:#fff}.index header .button{cursor:pointer;padding:5px;display:flex;align-items:center;justify-content:center;background-color:#3d80be;transition:.3s}.index header .button:hover{background-color:#2e689e}.index main{overflow:auto}.index footer{background-color:#3d80be}button{background-color:#fff;border:1px solid #a0a0a0;border-radius:5px;padding:5px;height:30px;cursor:pointer;transition:.3s}button:hover{background-color:#e6e6e6}.red{color:#8d4d4d}.blue{color:#4d638d}.green{color:#4a8a41}",""])},252:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var o=(i=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),r=a.sources.map((function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"}));return[n].concat(r).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},o=0;o<this.length;o++){var r=this[o][0];"number"==typeof r&&(a[r]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&a[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},893:e=>{e.exports='<div class = "tic-tac-toe">\n    <table>\n        <tbody #content>\n    \n        </tbody>\n    </table>\n    <button #start style = "margin-top: 5px;">START</button>\n</div>'},764:e=>{e.exports='<div style = "display: flex; justify-content: center; align-items: center; flex-direction: column; height: 100%; position: relative;">\n    <div class = "number" #number></div>\n    <div style = "font-size: 12px;">next:</div>\n    <div class = "number green" #next-number>\n    </div>\n    <button #generate>Generate</button>\n</div>'},4:e=>{e.exports="<div>\n    <input>\n</div>"},388:e=>{e.exports='<div class = "index">\n    <header>\n        <div #login-page class = "button">Login</div>\n        <div #game-page class = "button">Game</div>\n        <div #happy-page class = "button">Happy</div>\n    </header>\n    <main #container>\n    </main>\n    <footer></footer>\n</div>'}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={id:a,exports:{}};return e[a](r,r.exports,n),r.exports}(()=>{"use strict";class e{static parseJSON(e){try{return JSON.parse(e)}catch(t){return e}}static S4(){return(65536*(1+Math.random())|0).toString(16).substring(1)}static getGUID(t="S4S4-S4-S4-S4-S4-S4S4S4"){return t.split("S4").reduce(((t,n)=>t+e.S4()+n))}static getCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return!!t&&decodeURIComponent(t[1])}static param(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}static getShortlink(){return location.search.split("&")[0].split("?short_link=")[1]}static is(e,t,n){return null==e?void 0!==n?n:"-":t||e}static getParamsFromLocation(e){let t=e.split("?")[1].split("&"),n=0,a={};if(""!=t[0])for(;n<t.length;n++){let e=t[n].split("=");a[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return a}static getFileList(e){var t=new DataTransfer;return e.forEach((e=>t.items.add(e))),t.files}}class t{static config(e){this.use=!0;let n=()=>{t.onload(),t.loaded=!0,e.resolve&&e.resolve()};if(Array.isArray(e.factory)){let a=e.langMerge||[],o=[e.lang,...a];t.currentLanguage=e.lang,t.load(o,e.factory).then((()=>n())).catch((e=>{console.error(e),n()}))}else t.dictionary[t.currentLanguage]=e.factory,n()}static push(e){var n=t.objectQueue.length;return t.use?t.loaded?t.translate(e):t.objectQueue[n]={object:e}:console.warn("[VistTranslate] Settings for translations are not specified!"),{subscribe:e=>{t.loaded?e():t.objectQueue[n].resolve=e}}}static get(e){return t.dictionary[t.currentLanguage]&&t.dictionary[t.currentLanguage][e]||e}static subscribe(e){var n=t.queue.length;t.use?t.loaded?e():t.queue[n]=e:(console.warn("[VistTranslate] Settings for translations are not specified!"),e())}static async load(e,n){let a=[];e.forEach((e=>a.push(fetch(n[0]+e+n[1]))));let o=await Promise.all(a);for(let n=0;n<o.length;n++)if(o[n].ok){let a={};try{a=await o[n].json()}catch(e){}t.timeDictionary[e[n]]={};for(let o in a)a[o]&&(t.timeDictionary[e[n]][o]=a[o])}let r=e[0];e.reverse();for(let n=0;n<e.length;n++)t.setTranslation(r,t.timeDictionary[e[n]],0!==n)}static onload(){var e;for(e=0;e<t.objectQueue.length;e++)t.translate(t.objectQueue[e].object),t.objectQueue[e].resolve();for(e=0;e<t.queue.length;e++)t.queue[e]();t.queue=[],t.objectQueue=[]}static translate(e){for(var n,a=/translate\((.*?)\)/g,o=e.template||e.innerHTML;n=a.exec(o);)o=o.replace(n[0],t.get(n[1]));e.template?e.template=o:e.innerHTML=o}static setTranslation(e,n,a){a?void 0===t.dictionary[e]&&(t.dictionary[e]={}):t.dictionary[e]={};for(let a in n)t.dictionary[e][a]=n[a]}}t.timeDictionary={},t.queue=[],t.objectQueue=[],t.loaded=!0,t.use=!1,t.dictionary={},t.currentLanguage="default";class a extends HTMLElement{constructor(n){super(),this.config=n,this.guid=e.getGUID(),this.config=n,t.push(this.config)}connectedCallback(){var e="shadow"===this.config.mode?this.attachShadow({mode:"open"}):null;t.subscribe((()=>{(e||this).innerHTML=this.config.template.replaceAll("<content></content>",this.innerHTML),this.appendViewChilds(e).appendStyles(e)}))}disconnectedCallback(){this.entity.onDisconnected&&this.entity.onDisconnected()}attributeChangedCallback(e,t,n){this.entity.attributes[e]&&(this.entity[this.entity.attributes[e]]=n),this.entity.updateAttribute&&this.entity.updateAttribute(e,t,n)}appendViewChilds(e){let t=this.entity.viewChilds||[];for(let n=0;n<t.length;n++){let a=(e||this).querySelector("[\\#"+t[n].name+"]");a&&(this.entity[t[n].property]=a.entity||a,a.removeAttribute("#"+t[n].name))}return this.entity.onInit&&this.entity.onInit(e||this),this}appendStyles(e){return e&&o.createStyles(this.config.styles).forEach((t=>e.append(t))),this}}a.FactoryComponent=new Map;class o{static createButton(e){let t=document.createElement("button");return t.innerHTML=e.icon||e.title,e.title&&t.setAttribute("title",e.title),t.className=e.className||"btn",t.onclick=e.event&&(n=>e.event(n,t))||null,t}static createInput(t){let n=document.createElement("input");return"checkbox"===t.type?n.checked=Boolean(t.value):n.value=e.is(t.value,null,""),t.title&&n.setAttribute("title",t.title),t.type&&n.setAttribute("type",t.type),t.className=t.className,n.onchange=t.event&&(e=>t.event(e,n.value))||null,n}static createSelect(e){let t=document.createElement("select");for(let n=0;n<e.list.length;n++){let a=document.createElement("option");a.setAttribute("value",String(e.list[n].id||e.list[n].name)),a.innerHTML=e.list[n].name,t.appendChild(a)}return void 0!==e.value&&(t.value=String(e.value)),t.onchange=e.event&&(n=>e.event(n,t.value))||null,t}static createMultiSelect(e){let{entity:t,element:n}=o.createComponent("vist-multi-select");e.multi&&n.setAttribute("multiselect","true");let a=[];return void 0!==e.value&&(a=Array.isArray(e.value)?e.value.map((e=>({id:e}))):[{id:e.value}]),t.setDefault(e.list,a),t.onchange=e.event&&(n=>e.event(n,t.values))||null,{entity:t,element:n}}static createTextarea(e){let t=document.createElement("textarea");return t.value=e.value,e.title&&t.setAttribute("title",e.title),e.className=e.className,t.onchange=e.event&&(n=>e.event(n,t.value))||null,t}static createStyles(e){var t=[];if(!e)return t;for(let n=0;n<e.length;n++)t[n]=document.createElement("style"),t[n].append(e[n]);return t}static createFile(e){let t,n,a=document.createElement("div"),r=o.createInput({type:"file",value:e.value}),i=n=>{let a=[e.title||""];n&&(a=Array.from(n).map((e=>e.name))),t.innerHTML=a.map((e=>`<div class = 'file-name ellipsis'>${e}</div>`)).join("")};return a.setAttribute("name","file"),e.multiple&&r.setAttribute("multiple",String(e.multiple)),r.onchange=function(t){e.value=this.files,i(e.value),e.event&&e.event(this.files)},t=document.createElement("div"),t.setAttribute("name","label"),t.onclick=()=>r.click(),n=document.createElement("div"),n.setAttribute("name","times"),n.innerHTML="<i class = 'fas fa-times'></i>",n.onclick=()=>{r.value="",r.onchange()},a.appendChild(t),a.appendChild(r),a.appendChild(n),i(e.value),a}static createComponent(e){let t;if("string"!=typeof e){t=a.FactoryComponent.get(e).metadata.selector}else t=e;let n=document.createElement(t);return{entity:n.entity,element:n}}}class r{constructor(){if(void 0===globalThis.LoadModule){let e=document.createElement("script");e.innerHTML="eval('async function LoadModule(url) { return await import(url); }')",document.head.appendChild(e)}}async load(e){let t,n,a=[],o=e.split("/").slice(0,-1).join("/")+"/",s=await globalThis.LoadModule(e+".js");if(s.annotation.templateSrc?(n=await fetch(o+s.annotation.templateSrc),n.ok&&(t=await n.text())):t=s.annotation.template||"",s.annotation.styles)for(let e=0;e<s.annotation.styles.length;e++)n=await fetch(o+s.annotation.styles[e]),n.ok&&(a[e]=await n.text());return await r.loadScriptsFromMetadata(s.annotation),s.annotation.viewChilds&&s.annotation.viewChilds.forEach((e=>{l(e)(s.default.prototype,e)})),i({selector:s.annotation.selector,template:t,styles:a,mode:s.annotation.mode})(s.default)}static async loadScriptsFromMetadata(e){let t;if(e.scripts)for(let t=0;t<e.scripts.length;t++)try{await r.loadScript(e.scripts[t])}catch(n){console.warn(`[VistScript] Failed to load script '${e.scripts[t]}'!`)}if(e.bundles)for(let n=0;n<e.bundles.length;n++)try{let a,o=[];t=await fetch(e.bundles[n]),t&&(a=await t.json());for(let e in a.chunks)a.chunks[e].forEach((e=>{o.push(r.loadScript(e.publicPath))}));await Promise.all(o)}catch(t){console.error(t),console.warn(`[VistBundles] Failed to load bundles '${e.bundles[n]}'!`)}}static loadScript(e){return new Promise(((t,n)=>{let a=document.createElement("script");a.src=e,a.onload=t,a.onerror=n,document.head.append(a)}))}}function i(e){return function(t){let n=t.prototype.attributes&&Object.keys(t.prototype.attributes)||[];return a.FactoryComponent.set(t,{metadata:e,htmlElement:class extends a{static get observedAttributes(){return n}constructor(){super(e),this.entity=new t(this)}}}),t}}function l(e){return function(t,n,a){t.viewChilds||(t.viewChilds=[]),t[n]=null,t.viewChilds.push({name:e,property:n})}}var s=async e=>{let t=a.FactoryComponent.get(e);if(t.metadata.import&&t.metadata.import.forEach((e=>{let t=a.FactoryComponent.get(e);if(t)s(e);else{t=a.FactoryComponent.get(e.component);for(let n in e)"component"!==n&&(t.metadata[n]=e[n]);s(e.component)}})),customElements.define(t.metadata.selector,t.htmlElement),"shadow"!==t.metadata.mode){let e=document.getElementsByTagName("head")[0];o.createStyles(t.metadata.styles).forEach((t=>e.append(t)))}await r.loadScriptsFromMetadata(t.metadata)};var c=function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let u=class{constructor(e){this.element=e}onInit(e){}};u=c([i({selector:"login-page",template:n(4),styles:[]})],u);var d=function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let p=class{constructor(e){this.element=e,this.map=[],this.queue=!1}onInit(e){this.startButton.onclick=()=>this.start(20)}start(e=10){this.map=[],this.content.innerHTML="";for(let t=0;t<e;t++){this.map[t]=[];let n=document.createElement("tr");for(let a=0;a<e;a++){let e=this.map[t][a]=document.createElement("td");e.className="cell",e.onclick=()=>{e.innerHTML||(e.innerHTML=this.queue?'<i class="fas fa-times red"></i>':'<i class="far fa-circle blue"></i>'),this.queue=!this.queue},n.appendChild(e)}this.content.appendChild(n)}}};d([l("content")],p.prototype,"content",void 0),d([l("start")],p.prototype,"startButton",void 0),p=d([i({selector:"tic-tac-toe",template:n(893),styles:[n(983)]})],p);var h=function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let m=class{constructor(e){this.element=e}onInit(e){this.generateButton.onclick=()=>this.generate(),this.generate()}generate(){let e=this.getRandom(0,1e6);this.number.innerHTML=this.format(e),this.getNext(e).then((e=>{this.nextNumber.innerHTML=this.format(e)}))}async getNext(e){return(await async function(e="",t={}){const n=await fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(t)});return await n.json()}("http://127.0.0.1:8081/happy",{number:e})).number}format(e){return e.toLocaleString().padStart(7,"0")}getRandom(e,t){return Math.floor(Math.random()*(t-e))+e}};h([l("number")],m.prototype,"number",void 0),h([l("next-number")],m.prototype,"nextNumber",void 0),h([l("input")],m.prototype,"input",void 0),h([l("generate")],m.prototype,"generateButton",void 0),m=h([i({selector:"happy-page",template:n(764),styles:[n(290)],import:[]})],m);var f=function(e,t,n,a){var o,r=arguments.length,i=r<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(r<3?o(i):r>3?o(t,n,i):o(t,n))||i);return r>3&&i&&Object.defineProperty(t,n,i),i};let g=class{constructor(e){this.element=e}onInit(e){this.loginPage.onclick=()=>this.openPage("login"),this.gamePage.onclick=()=>this.openPage("game"),this.happyPage.onclick=()=>this.openPage("happy")}openPage(e){if(this.currentPage!==e)switch(this.currentPage=e,this.container.innerHTML="",e){case"login":this.container.appendChild(document.createElement("login-page"));break;case"game":this.container.appendChild(document.createElement("tic-tac-toe"));break;case"happy":this.container.appendChild(document.createElement("happy-page"))}}};f([l("login-page")],g.prototype,"loginPage",void 0),f([l("game-page")],g.prototype,"gamePage",void 0),f([l("happy-page")],g.prototype,"happyPage",void 0),f([l("container")],g.prototype,"container",void 0),g=f([i({selector:"app-root",template:n(388),styles:[n(238)],import:[u,p,m]})],g),s(g)})()})();